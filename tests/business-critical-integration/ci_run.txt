Run echo "üß™ Running deep linking integration tests..."
  echo "üß™ Running deep linking integration tests..."
  CI=true ./scripts/run-tests.sh deeplink
  shell: /bin/bash -e {0}
  env:
    XCODE_VERSION: 16.4
    MD_APPLE_SDK_ROOT: /Applications/Xcode_16.4.app
üß™ Running deep linking integration tests...
============================================
Iterable SDK - Local Integration Test Runner
============================================
‚ÑπÔ∏è  Test Type: deeplink
‚ÑπÔ∏è  Timeout: 60s
‚ÑπÔ∏è  Verbose: false
‚ÑπÔ∏è  Dry Run: false
‚ÑπÔ∏è  Cleanup: true
‚ÑπÔ∏è  Fast Test: false
‚ÑπÔ∏è  Exit On Failure: false
‚ÑπÔ∏è  Open Simulator: false

============================================
Validating Local Environment
============================================
‚úÖ API keys configured (Mobile + Server)
‚úÖ Test simulator available: E38B99B2-93A2-4BE1-8B4A-468FF4614D58
‚úÖ Environment validation passed
============================================
Preparing Test Environment
============================================
‚ÑπÔ∏è  Test User: 2026-01-13-integration-test-user@test.com
‚ÑπÔ∏è  Project ID: ***
‚ÑπÔ∏è  Base URL: https://api.iterable.com
‚ÑπÔ∏è  ü§ñ CI Environment detected - enabling mock push notifications
‚ÑπÔ∏è  ü§ñ Updated config.json with ciMode: true
‚úÖ Test environment prepared
============================================
Setting Up iOS Simulator
============================================
‚ÑπÔ∏è  Using existing simulator: E38B99B2-93A2-4BE1-8B4A-468FF4614D58
‚ÑπÔ∏è  Booting simulator...
‚ÑπÔ∏è  Simulator already booted
An error was encountered processing the command (domain=NSPOSIXErrorDomain, code=1):
Simulator device failed to complete the requested operation.
‚úÖ Simulator ready: E38B99B2-93A2-4BE1-8B4A-468FF4614D58
Operation not permitted
============================================
Underlying error (domain=NSPOSIXErrorDomain, code=1):
Building Test Project
	Failed to reset access
============================================
	Operation not permitted
‚ÑπÔ∏è  Running build script...
Building Iterable SDK Integration Tester app and tests...
üßπ Clean build requested - will clean before building
üîç Project directory: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration
üîç Current directory: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/integration-test-app
üîç Contents of current directory:
total 0
drwxr-xr-x   6 runner  staff  192 Jan 13 15:35 .
drwxr-xr-x  12 runner  staff  384 Jan 13 15:35 ..
drwxr-xr-x   3 runner  staff   96 Jan 13 15:40 config
drwxr-xr-x   6 runner  staff  192 Jan 13 15:35 IterableSDK-Integration-Tester
drwxr-xr-x   5 runner  staff  160 Jan 13 15:35 IterableSDK-Integration-Tester.xcodeproj
drwxr-xr-x   4 runner  staff  128 Jan 13 15:35 IterableSDK-Integration-TesterUITests
üîç Looking for .xcodeproj files:
./IterableSDK-Integration-Tester.xcodeproj
üîç Checking if target project exists:
‚úÖ Project file found: IterableSDK-Integration-Tester.xcodeproj
üîç Project file details:
total 48
drwxr-xr-x  5 runner  staff    160 Jan 13 15:35 .
drwxr-xr-x  6 runner  staff    192 Jan 13 15:35 ..
-rw-r--r--  1 runner  staff  21764 Jan 13 15:35 project.pbxproj
drwxr-xr-x  4 runner  staff    128 Jan 13 15:39 project.xcworkspace
drwxr-xr-x  3 runner  staff     96 Jan 13 15:35 xcshareddata
üéØ Using simulator from config: E38B99B2-93A2-4BE1-8B4A-468FF4614D58
üßπ Cleaning build directory...
‚úÖ Clean completed
üì± Building main app target...
‚úÖ Main app build succeeded!
üß™ Building test target...
‚úÖ Test target build succeeded!
üéâ All builds completed successfully!
‚úÖ Integration test project built successfully
============================================
Clearing Screenshots Directory
============================================
‚ÑπÔ∏è  Removing existing screenshots from: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots
‚úÖ Screenshots directory cleared
‚ÑπÔ∏è  Screenshots will be saved to: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots
============================================
Cleaning Test Environment
============================================
‚ÑπÔ∏è  Resetting simulator to clean state...
‚úÖ Simulator erased successfully
‚ÑπÔ∏è  Booting clean simulator...
‚ÑπÔ∏è  Waiting for simulator to be ready...
‚úÖ Test environment cleaned and ready
============================================
Running Deep Linking Integration Tests
============================================
‚ÑπÔ∏è  Starting deep linking test sequence...
‚ÑπÔ∏è  ü§ñ Setting up push notification monitoring for CI environment
‚ÑπÔ∏è  üìÅ Push queue directory: /tmp/push_queue
‚ÑπÔ∏è  üîç Starting background push monitor...
‚ÑπÔ∏è  ‚ö° Push monitor started with PID: 7713
‚ÑπÔ∏è  üîÑ Push monitor started - watching: /tmp/push_queue
‚ÑπÔ∏è  Running XCTest: DeepLinkingIntegrationTests
‚ÑπÔ∏è  Executing: xcodebuild -project IterableSDK-Integration-Tester.xcodeproj -scheme IterableSDK-Integration-Tester -configuration Debug -sdk iphonesimulator -destination id=E38B99B2-93A2-4BE1-8B4A-468FF4614D58 -parallel-testing-enabled NO -resultBundlePath /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../reports/deeplinkingintegrationtests-20260113-154246.xcresult test-without-building SCREENSHOTS_DIR=/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots ITERABLE_MOBILE_API_KEY=*** ITERABLE_SERVER_API_KEY=*** TEST_USER_EMAIL=2026-01-13-integration-test-user@test.com TEST_PROJECT_ID=*** TEST_TIMEOUT=60 FAST_TEST=false -only-testing IterableSDK-Integration-TesterUITests/DeepLinkingIntegrationTests
‚ÑπÔ∏è  CI environment variable: CI=1
‚ÑπÔ∏è  FAST_TEST environment variable: FAST_TEST=false
‚ÑπÔ∏è  EXIT_ON_TEST_FAILURE environment variable: EXIT_ON_TEST_FAILURE=0
Command line invocation:
    /Applications/Xcode_16.4.app/Contents/Developer/usr/bin/xcodebuild -project IterableSDK-Integration-Tester.xcodeproj -scheme IterableSDK-Integration-Tester -configuration Debug -sdk iphonesimulator -destination id=E38B99B2-93A2-4BE1-8B4A-468FF4614D58 -parallel-testing-enabled NO -resultBundlePath /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../reports/deeplinkingintegrationtests-20260113-154246.xcresult test-without-building SCREENSHOTS_DIR=/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots ITERABLE_MOBILE_API_KEY=*** ITERABLE_SERVER_API_KEY=*** "TEST_USER_EMAIL=2026-01-13-integration-test-user@test.com" TEST_PROJECT_ID=*** TEST_TIMEOUT=60 FAST_TEST=false -only-testing IterableSDK-Integration-TesterUITests/DeepLinkingIntegrationTests

Build settings from command line:
    FAST_TEST = false
    ITERABLE_MOBILE_API_KEY = ***
    ITERABLE_SERVER_API_KEY = ***
    SCREENSHOTS_DIR = /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots
    SDKROOT = iphonesimulator18.5
    TEST_PROJECT_ID = ***
    TEST_TIMEOUT = 60
    TEST_USER_EMAIL = 2026-01-13-integration-test-user@test.com

Resolve Package Graph


Resolved source packages:
  IterableSDK: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk @ local

Writing result bundle at path:
	/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/reports/deeplinkingintegrationtests-20260113-154246.xcresult

--- xcodebuild: WARNING: Using the first of multiple matching destinations:
{ platform:iOS Simulator, arch:arm64, id:E38B99B2-93A2-4BE1-8B4A-468FF4614D58, OS:18.5, name:Integration-Test-iPhone }
{ platform:iOS Simulator, arch:x86_64, id:E38B99B2-93A2-4BE1-8B4A-468FF4614D58, OS:18.5, name:Integration-Test-iPhone }
2026-01-13 15:45:32.473220+0000 IterableSDK-Integration-TesterUITests-Runner[9105:41981] [Default] Running tests...
    t =      nans Interface orientation changed to Portrait
üöÄ Fast Test Mode: DISABLED (comprehensive testing mode)
üõë Exit On Test Failure: DISABLED (default)
üìã [TEST] Full config.json contents:
{
  "mobileApiKey": "***",
  "serverApiKey": "***",
  "projectId": "***",
  "testUserEmail": "2026-01-13-integration-test-user@test.com",
  "baseUrl": "https://api.iterable.com",
  "environment": "local",
  "simulator": {
    "deviceType": "iPhone 16 Pro",
    "osVersion": "latest",
    "simulatorUuid": "E38B99B2-93A2-4BE1-8B4A-468FF4614D58"
  },
  "testing": {
    "timeout": 60,
    "retryAttempts": 3,
    "enableMocks": false,
    "enableDebugLogging": true,
    "ciMode": true
  },
  "features": {
    "pushNotifications": true,
    "inAppMessages": true,
    "embeddedMessages": true,
    "deepLinking": true
  }
}

üîç [TEST] Config file path: /Users/runner/Library/Developer/Xcode/DerivedData/IterableSDK-Integration-Tester-acpmsxszebxpbwandfclgxdtzyyy/Build/Products/Debug-iphonesimulator/IterableSDK-Integration-Tester.app/test-config.json
üîç [TEST] Environment CI: false
üîç [TEST] Config CI: true
ü§ñ [TEST] CI ENVIRONMENT DETECTED
üîç [TEST] CI detected via: env=false, config=true
üé≠ [TEST] Push notification testing will use simulated pushes via xcrun simctl
üîß [TEST] Mock device tokens will be generated instead of real APNS registration
üöÄ Fast Test Mode: DISABLED (comprehensive testing mode)
üõë Exit On Test Failure: DISABLED (default)
üìã [TEST] Full config.json contents:
{
  "mobileApiKey": "***",
  "serverApiKey": "***",
  "projectId": "***",
  "testUserEmail": "2026-01-13-integration-test-user@test.com",
  "baseUrl": "https://api.iterable.com",
  "environment": "local",
  "simulator": {
    "deviceType": "iPhone 16 Pro",
    "osVersion": "latest",
    "simulatorUuid": "E38B99B2-93A2-4BE1-8B4A-468FF4614D58"
  },
  "testing": {
    "timeout": 60,
    "retryAttempts": 3,
    "enableMocks": false,
    "enableDebugLogging": true,
    "ciMode": true
  },
  "features": {
    "pushNotifications": true,
    "inAppMessages": true,
    "embeddedMessages": true,
    "deepLinking": true
  }
}

üîç [TEST] Config file path: /Users/runner/Library/Developer/Xcode/DerivedData/IterableSDK-Integration-Tester-acpmsxszebxpbwandfclgxdtzyyy/Build/Products/Debug-iphonesimulator/IterableSDK-Integration-Tester.app/test-config.json
üîç [TEST] Environment CI: false
üîç [TEST] Config CI: true
ü§ñ [TEST] CI ENVIRONMENT DETECTED
üîç [TEST] CI detected via: env=false, config=true
üé≠ [TEST] Push notification testing will use simulated pushes via xcrun simctl
üîß [TEST] Mock device tokens will be generated instead of real APNS registration
üöÄ Fast Test Mode: DISABLED (comprehensive testing mode)
üõë Exit On Test Failure: DISABLED (default)
üìã [TEST] Full config.json contents:
{
  "mobileApiKey": "***",
  "serverApiKey": "***",
  "projectId": "***",
  "testUserEmail": "2026-01-13-integration-test-user@test.com",
  "baseUrl": "https://api.iterable.com",
  "environment": "local",
  "simulator": {
    "deviceType": "iPhone 16 Pro",
    "osVersion": "latest",
    "simulatorUuid": "E38B99B2-93A2-4BE1-8B4A-468FF4614D58"
  },
  "testing": {
    "timeout": 60,
    "retryAttempts": 3,
    "enableMocks": false,
    "enableDebugLogging": true,
    "ciMode": true
  },
  "features": {
    "pushNotifications": true,
    "inAppMessages": true,
    "embeddedMessages": true,
    "deepLinking": true
  }
}

üîç [TEST] Config file path: /Users/runner/Library/Developer/Xcode/DerivedData/IterableSDK-Integration-Tester-acpmsxszebxpbwandfclgxdtzyyy/Build/Products/Debug-iphonesimulator/IterableSDK-Integration-Tester.app/test-config.json
üîç [TEST] Environment CI: false
üîç [TEST] Config CI: true
ü§ñ [TEST] CI ENVIRONMENT DETECTED
üîç [TEST] CI detected via: env=false, config=true
üé≠ [TEST] Push notification testing will use simulated pushes via xcrun simctl
üîß [TEST] Mock device tokens will be generated instead of real APNS registration
üöÄ Fast Test Mode: DISABLED (comprehensive testing mode)
üõë Exit On Test Failure: DISABLED (default)
üìã [TEST] Full config.json contents:
{
  "mobileApiKey": "***",
  "serverApiKey": "***",
  "projectId": "***",
  "testUserEmail": "2026-01-13-integration-test-user@test.com",
  "baseUrl": "https://api.iterable.com",
  "environment": "local",
  "simulator": {
    "deviceType": "iPhone 16 Pro",
    "osVersion": "latest",
    "simulatorUuid": "E38B99B2-93A2-4BE1-8B4A-468FF4614D58"
  },
  "testing": {
    "timeout": 60,
    "retryAttempts": 3,
    "enableMocks": false,
    "enableDebugLogging": true,
    "ciMode": true
  },
  "features": {
    "pushNotifications": true,
    "inAppMessages": true,
    "embeddedMessages": true,
    "deepLinking": true
  }
}

üîç [TEST] Config file path: /Users/runner/Library/Developer/Xcode/DerivedData/IterableSDK-Integration-Tester-acpmsxszebxpbwandfclgxdtzyyy/Build/Products/Debug-iphonesimulator/IterableSDK-Integration-Tester.app/test-config.json
üîç [TEST] Environment CI: false
üîç [TEST] Config CI: true
ü§ñ [TEST] CI ENVIRONMENT DETECTED
üîç [TEST] CI detected via: env=false, config=true
üé≠ [TEST] Push notification testing will use simulated pushes via xcrun simctl
üîß [TEST] Mock device tokens will be generated instead of real APNS registration
Test Suite 'Selected tests' started at 2026-01-13 15:45:40.169.
Test Suite 'IterableSDK-Integration-TesterUITests.xctest' started at 2026-01-13 15:45:40.170.
Test Suite 'DeepLinkingIntegrationTests' started at 2026-01-13 15:45:40.170.
    t =      nans Suite Set Up
üß™ Test suite starting - failure tracking reset
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testABrowserLinksOpenSafari]' started.
    t =     0.00s Start Test at 2026-01-13 15:45:40.172
    t =     0.84s Set Up
üß™ Test Mode: COMPREHENSIVE (full validation suite)
‚úÖ Loaded test configuration from test-config.json
üì∏ SCREENSHOTS_DIR not set, trying to find project screenshots directory
üì∏ Current working directory: /
üì∏ Using Documents fallback: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ ‚ö†Ô∏è  For CI/proper usage, set SCREENSHOTS_DIR environment variable
üì∏ Screenshot capture initialized
üì∏ Screenshots will be saved to: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ Directory exists: true
‚úÖ UI Interruption Monitors configured for permission dialogs
    t =     0.89s     Open com.sumeru.IterableSDK-Integration-Tester
    t =     0.89s         Launch com.sumeru.IterableSDK-Integration-Tester
    t =    14.29s             Setting up automation session
    t =    15.50s             Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    18.32s     Checking `Expect predicate `exists == 1` for object "app-ready-indicator" StaticText`
    t =    18.32s         Checking existence of `"app-ready-indicator" StaticText`
    t =    18.39s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    19.41s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    19.41s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    19.45s     Find the "sdk-ready-indicator" StaticText
    t =    19.50s     Waiting 30.0s for "user-email-textfield" TextField to exist
    t =    20.50s         Checking `Expect predicate `existsNoRetry == 1` for object "user-email-textfield" TextField`
    t =    20.50s             Checking existence of `"user-email-textfield" TextField`
    t =    20.66s     Find the "user-email-textfield" TextField
    t =    20.69s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    21.71s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    21.71s             Checking existence of `"sdk-email-value" StaticText`
    t =    21.75s     Find the "sdk-email-value" StaticText
üì∏ Screenshot saved: 001_sdk-before-initialization_2026-01-13_15-46-01.png
    t =    22.05s     Added attachment named 'sdk-before-initialization'
    t =    22.06s     Waiting 30.0s for "initialize-sdk-button" Button to exist
    t =    23.06s         Checking `Expect predicate `existsNoRetry == 1` for object "initialize-sdk-button" Button`
    t =    23.06s             Checking existence of `"initialize-sdk-button" Button`
    t =    23.11s     Tap "initialize-sdk-button" Button
    t =    23.11s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    23.11s         Find the "initialize-sdk-button" Button
    t =    23.19s         Check for interrupting elements affecting "initialize-sdk-button" Button
    t =    23.28s         Synthesize event
    t =    23.78s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    23.83s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    24.83s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    24.83s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    25.91s     Checking `Expect predicate `label == "‚úì"` for object "sdk-ready-indicator" StaticText`
    t =    25.91s         Find the "sdk-ready-indicator" StaticText
    t =    25.95s     Waiting 30.0s for "register-email-button" Button to exist
    t =    27.00s         Checking `Expect predicate `existsNoRetry == 1` for object "register-email-button" Button`
    t =    27.00s             Checking existence of `"register-email-button" Button`
    t =    27.06s     Tap "register-email-button" Button
    t =    27.06s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    27.06s         Find the "register-email-button" Button
    t =    27.09s         Check for interrupting elements affecting "register-email-button" Button
    t =    27.16s         Synthesize event
    t =    27.51s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    29.01s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    30.06s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    30.06s             Checking existence of `"sdk-email-value" StaticText`
    t =    30.12s     Find the "sdk-email-value" StaticText
    t =    30.16s     Waiting 30.0s for "network-monitor-button" Button to exist
    t =    31.20s         Checking `Expect predicate `existsNoRetry == 1` for object "network-monitor-button" Button`
    t =    31.20s             Checking existence of `"network-monitor-button" Button`
    t =    32.28s     Checking `Expect predicate `isHittable == 1` for object "network-monitor-button" Button`
    t =    32.28s         Find the "network-monitor-button" Button
    t =    32.33s     Tap "network-monitor-button" Button
    t =    32.33s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    32.33s         Find the "network-monitor-button" Button
    t =    32.41s         Check for interrupting elements affecting "network-monitor-button" Button
    t =    32.46s         Synthesize event
    t =    32.98s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    33.69s     Waiting 3.0s for "Network Monitor" NavigationBar to exist
    t =    34.71s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    34.71s             Checking existence of `"Network Monitor" NavigationBar`
    t =    34.78s     Waiting 30.0s for "Network Monitor" NavigationBar to exist
    t =    35.83s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    35.83s             Checking existence of `"Network Monitor" NavigationBar`
    t =    35.88s     Waiting 5.0s for Cell (First Match) to exist
    t =    36.91s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    36.91s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getRemoteConfiguration cell:
    t =    36.98s     Get all elements bound by index for: Descendants matching type StaticText
    t =    37.03s     Checking existence of `StaticText (Element at index 0)`
    t =    37.17s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    37.30s     Checking existence of `StaticText (Element at index 1)`
    t =    37.38s     Find the StaticText (Element at index 1)
   - Label: '/api/mobile/getRemoteConfiguration'
    t =    37.50s     Checking existence of `StaticText (Element at index 2)`
    t =    37.58s     Find the StaticText (Element at index 2)
   - Label: '3:46:04‚ÄØPM'
    t =    37.63s     Checking existence of `StaticText (Element at index 3)`
    t =    37.68s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    37.73s     Checking existence of `StaticText (First Match)`
    t =    37.81s     Checking existence of `StaticText (First Match)`
    t =    37.89s     Waiting 5.0s for Cell (First Match) to exist
    t =    38.95s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    38.95s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getMessages cell:
    t =    39.02s     Get all elements bound by index for: Descendants matching type StaticText
    t =    39.07s     Checking existence of `StaticText (Element at index 0)`
    t =    39.14s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    39.19s     Checking existence of `StaticText (Element at index 1)`
    t =    39.27s     Find the StaticText (Element at index 1)
   - Label: '/api/inApp/getMessages'
    t =    39.36s     Checking existence of `StaticText (Element at index 2)`
    t =    39.42s     Find the StaticText (Element at index 2)
   - Label: '3:46:07‚ÄØPM'
    t =    39.50s     Checking existence of `StaticText (Element at index 3)`
    t =    39.58s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    39.70s     Checking existence of `StaticText (First Match)`
    t =    39.76s     Checking existence of `StaticText (First Match)`
üì∏ Screenshot saved: 002_sdk-initialization-network-calls_2026-01-13_15-46-19.png
    t =    39.92s     Added attachment named 'sdk-initialization-network-calls'
    t =    39.92s     Checking existence of `"Close" Button`
    t =    39.94s     Tap "Close" Button
    t =    39.94s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    39.94s         Find the "Close" Button
    t =    39.97s         Check for interrupting elements affecting "Close" Button
    t =    40.01s         Synthesize event
    t =    40.35s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
üì∏ Screenshot saved: 003_sdk-initialized_2026-01-13_15-46-21.png
    t =    41.09s     Added attachment named 'sdk-initialized'
‚úÖ Deep linking test infrastructure initialized
üß™ Testing non-app links open in Safari (not app)
üéØ Links with /u/ pattern or non-AASA paths should open Safari
üîó Test URL: https://links.tsetester.com/u/click?url=https://iterable.com
‚úÖ Expected: Safari opens (not our app)
üìù [TEST] Opening browser link from Reminders app: https://links.tsetester.com/u/click?url=https://iterable.com
    t =    41.11s Open com.apple.reminders
    t =    41.11s     Launch com.apple.reminders
    t =    42.51s         Setting up automation session
    t =    42.95s         Wait for com.apple.reminders to idle
    t =    46.60s Checking `Expect predicate `state == 4` for object Application 'com.apple.reminders'`
    t =    48.61s Waiting 3.0s for "Continue" Button to exist
    t =    49.66s     Checking `Expect predicate `existsNoRetry == 1` for object "Continue" Button`
    t =    49.66s         Checking existence of `"Continue" Button`
üìù [TEST] Dismissing Reminders welcome modal
    t =    49.71s Tap "Continue" Button
    t =    49.71s     Wait for com.apple.reminders to idle
    t =    49.71s     Find the "Continue" Button
    t =    49.73s     Check for interrupting elements affecting "Continue" Button
    t =    49.75s     Synthesize event
    t =    50.09s     Wait for com.apple.reminders to idle
    t =    51.49s Waiting 3.0s for "Not Now" Button to exist
    t =    52.51s     Checking `Expect predicate `existsNoRetry == 1` for object "Not Now" Button`
    t =    52.51s         Checking existence of `"Not Now" Button`
üìù [TEST] Dismissing iCloud syncing modal
    t =    52.55s Tap "Not Now" Button
    t =    52.55s     Wait for com.apple.reminders to idle
    t =    52.55s     Find the "Not Now" Button
    t =    52.59s     Check for interrupting elements affecting "Not Now" Button
    t =    52.64s     Synthesize event
    t =    52.99s     Wait for com.apple.reminders to idle
üóëÔ∏è [TEST] Cleaning up previous test link from Reminders...
    t =    54.22s Waiting 2.0s for Cell (First Match) to exist
    t =    55.26s     Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    55.26s         Checking existence of `Cell (First Match)`
    t =    55.29s         Capturing element debug description
    t =    56.22s     Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    56.23s         Checking existence of `Cell (First Match)`
    t =    56.25s         Capturing element debug description
    t =    56.25s     Checking existence of `Cell (First Match)`
    t =    56.28s Collecting debug information to assist test failure triage
    t =    56.29s     Requesting snapshot of accessibility hierarchy for app with pid 9934
üóëÔ∏è [TEST] No previous reminder to clean up
üìù [TEST] Looking for New Reminder button...
    t =    56.33s Waiting 5.0s for "New Reminder" Button to exist
    t =    57.38s     Checking `Expect predicate `existsNoRetry == 1` for object "New Reminder" Button`
    t =    57.38s         Checking existence of `"New Reminder" Button`
üìù [TEST] Found New Reminder button, tapping...
    t =    57.40s Tap "New Reminder" Button
    t =    57.40s     Wait for com.apple.reminders to idle
    t =    57.40s     Find the "New Reminder" Button
    t =    57.42s     Check for interrupting elements affecting "New Reminder" Button
    t =    57.45s     Synthesize event
    t =    57.78s     Wait for com.apple.reminders to idle
üìù [TEST] Typing URL into reminder: https://links.tsetester.com/u/click?url=https://iterable.com
    t =    62.24s Type 'https://links.tset...' into Application 'com.apple.reminders'
    t =    62.24s     Wait for com.apple.reminders to idle
    t =    62.40s     Find the Application 'com.apple.reminders'
    t =    62.88s     Check for interrupting elements affecting "Reminders" Application
    t =    63.44s     Synthesize event
    t =    63.64s         Get number of matches for: Elements containing elements matching predicate 'hasKeyboardFocus == 1'
    t =    65.76s     Wait for com.apple.reminders to idle
    t =    65.93s Type '
' into Application 'com.apple.reminders'
    t =    65.93s     Wait for com.apple.reminders to idle
    t =    66.28s     Find the Application 'com.apple.reminders'
    t =    66.84s     Check for interrupting elements affecting "Reminders" Application
    t =    67.25s     Synthesize event
    t =    67.32s         Get number of matches for: Elements containing elements matching predicate 'hasKeyboardFocus == 1'
    t =    68.18s     Wait for com.apple.reminders to idle
üìù [TEST] Looking for link to tap...
    t =    70.75s Waiting 5.0s for Link (First Match) to exist
    t =    71.84s     Checking `Expect predicate `existsNoRetry == 1` for object Link (First Match)`
    t =    71.84s         Checking existence of `Link (First Match)`
‚úÖ [TEST] Found link, tapping it...
    t =    72.21s Swipe down Application 'com.apple.reminders'
    t =    72.21s     Wait for com.apple.reminders to idle
    t =    72.22s     Find the Application 'com.apple.reminders'
    t =    72.29s     Check for interrupting elements affecting "Reminders" Application
    t =    72.35s     Synthesize event
    t =    73.08s     Wait for com.apple.reminders to idle
    t =    74.56s Tap Link (First Match)[0.10, 0.50]
    t =    74.56s     Wait for com.apple.reminders to idle
    t =    74.56s     Find the Link (First Match)
    t =    74.63s     Check for interrupting elements affecting "https://links.tsetester.com/u/click?url=https://iterable.com" Link
    t =    74.68s     Synthesize event
    t =    74.69s         Find the "https://links.tsetester.com/u/click?url=https://iterable.com" Link
    t =    74.80s         Find the "https://links.tsetester.com/u/click?url=https://iterable.com" Link
    t =    74.87s         Find the "https://links.tsetester.com/u/click?url=https://iterable.com" Link
    t =    75.31s     Wait for com.apple.reminders to idle
‚úÖ [TEST] Tapped link in Reminders app
‚úÖ [TEST] Browser link opened successfully
üîç Safari state: foreground
üîç App state: background
    t =    79.54s Checking `Expect predicate `state == 4` for object Application 'com.apple.mobilesafari'`
‚úÖ Browser link test completed - Safari opened correctly
    t =    80.57s Tear Down
üì∏ Screenshot saved: 004_final--[DeepLinkingIntegrationTests testABrowserLinksOpenSafari]_2026-01-13_15-47-01.png
    t =    84.13s     Added attachment named 'final--[DeepLinkingIntegrationTests testABrowserLinksOpenSafari]'
‚ö†Ô∏è Warning: Error cleaning up test user: httpError(401)
    t =    88.19s     Terminate com.sumeru.IterableSDK-Integration-Tester:9194
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testABrowserLinksOpenSafari]' passed (134.013 seconds).
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testBDeepLinkFromRemindersApp]' started.
    t =     0.00s Start Test at 2026-01-13 15:47:54.187
    t =     0.11s Set Up
üß™ Test Mode: COMPREHENSIVE (full validation suite)
‚úÖ Loaded test configuration from test-config.json
üì∏ SCREENSHOTS_DIR not set, trying to find project screenshots directory
üì∏ Current working directory: /
üì∏ Using Documents fallback: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ ‚ö†Ô∏è  For CI/proper usage, set SCREENSHOTS_DIR environment variable
üì∏ Screenshot capture initialized
üì∏ Screenshots will be saved to: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ Directory exists: true
‚úÖ UI Interruption Monitors configured for permission dialogs
    t =     0.13s     Open com.sumeru.IterableSDK-Integration-Tester
    t =     0.13s         Launch com.sumeru.IterableSDK-Integration-Tester
    t =     5.52s             Setting up automation session
    t =     7.82s             Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    10.46s     Checking `Expect predicate `exists == 1` for object "app-ready-indicator" StaticText`
    t =    10.46s         Checking existence of `"app-ready-indicator" StaticText`
    t =    10.62s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    11.65s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    11.65s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    11.68s     Find the "sdk-ready-indicator" StaticText
    t =    11.71s     Waiting 30.0s for "user-email-textfield" TextField to exist
    t =    12.74s         Checking `Expect predicate `existsNoRetry == 1` for object "user-email-textfield" TextField`
    t =    12.74s             Checking existence of `"user-email-textfield" TextField`
    t =    12.76s     Find the "user-email-textfield" TextField
    t =    12.79s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    13.85s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    13.85s             Checking existence of `"sdk-email-value" StaticText`
    t =    13.88s     Find the "sdk-email-value" StaticText
üì∏ Screenshot saved: 001_sdk-before-initialization_2026-01-13_15-48-08.png
    t =    14.04s     Added attachment named 'sdk-before-initialization'
    t =    14.04s     Waiting 30.0s for "initialize-sdk-button" Button to exist
    t =    15.08s         Checking `Expect predicate `existsNoRetry == 1` for object "initialize-sdk-button" Button`
    t =    15.08s             Checking existence of `"initialize-sdk-button" Button`
    t =    15.13s     Tap "initialize-sdk-button" Button
    t =    15.14s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    15.14s         Find the "initialize-sdk-button" Button
    t =    15.18s         Check for interrupting elements affecting "initialize-sdk-button" Button
    t =    15.26s         Synthesize event
    t =    15.63s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    16.13s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    17.16s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    17.16s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    18.23s     Checking `Expect predicate `label == "‚úì"` for object "sdk-ready-indicator" StaticText`
    t =    18.23s         Find the "sdk-ready-indicator" StaticText
    t =    18.27s     Waiting 30.0s for "register-email-button" Button to exist
    t =    19.32s         Checking `Expect predicate `existsNoRetry == 1` for object "register-email-button" Button`
    t =    19.32s             Checking existence of `"register-email-button" Button`
    t =    19.34s     Tap "register-email-button" Button
    t =    19.34s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    19.34s         Find the "register-email-button" Button
    t =    19.37s         Check for interrupting elements affecting "register-email-button" Button
    t =    19.39s         Synthesize event
    t =    19.68s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    20.97s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    22.02s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    22.02s             Checking existence of `"sdk-email-value" StaticText`
    t =    22.07s     Find the "sdk-email-value" StaticText
    t =    22.13s     Waiting 30.0s for "network-monitor-button" Button to exist
    t =    23.16s         Checking `Expect predicate `existsNoRetry == 1` for object "network-monitor-button" Button`
    t =    23.16s             Checking existence of `"network-monitor-button" Button`
    t =    24.25s     Checking `Expect predicate `isHittable == 1` for object "network-monitor-button" Button`
    t =    24.25s         Find the "network-monitor-button" Button
    t =    24.30s     Tap "network-monitor-button" Button
    t =    24.30s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    24.31s         Find the "network-monitor-button" Button
    t =    24.36s         Check for interrupting elements affecting "network-monitor-button" Button
    t =    24.40s         Synthesize event
    t =    24.88s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    25.43s     Waiting 3.0s for "Network Monitor" NavigationBar to exist
    t =    26.47s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    26.47s             Checking existence of `"Network Monitor" NavigationBar`
    t =    26.58s     Waiting 30.0s for "Network Monitor" NavigationBar to exist
    t =    27.63s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    27.63s             Checking existence of `"Network Monitor" NavigationBar`
    t =    27.69s     Waiting 5.0s for Cell (First Match) to exist
    t =    28.71s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    28.71s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getRemoteConfiguration cell:
    t =    28.78s     Get all elements bound by index for: Descendants matching type StaticText
    t =    28.84s     Checking existence of `StaticText (Element at index 0)`
    t =    28.89s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    28.95s     Checking existence of `StaticText (Element at index 1)`
    t =    29.01s     Find the StaticText (Element at index 1)
   - Label: '/api/mobile/getRemoteConfiguration'
    t =    29.07s     Checking existence of `StaticText (Element at index 2)`
    t =    29.15s     Find the StaticText (Element at index 2)
   - Label: '3:48:09‚ÄØPM'
    t =    29.22s     Checking existence of `StaticText (Element at index 3)`
    t =    29.32s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    29.43s     Checking existence of `StaticText (First Match)`
    t =    29.52s     Checking existence of `StaticText (First Match)`
    t =    29.61s     Waiting 5.0s for Cell (First Match) to exist
    t =    30.62s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    30.62s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getMessages cell:
    t =    30.69s     Get all elements bound by index for: Descendants matching type StaticText
    t =    30.75s     Checking existence of `StaticText (Element at index 0)`
    t =    30.81s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    30.89s     Checking existence of `StaticText (Element at index 1)`
    t =    30.97s     Find the StaticText (Element at index 1)
   - Label: '/api/inApp/getMessages'
    t =    31.03s     Checking existence of `StaticText (Element at index 2)`
    t =    31.12s     Find the StaticText (Element at index 2)
   - Label: '3:48:09‚ÄØPM'
    t =    31.18s     Checking existence of `StaticText (Element at index 3)`
    t =    31.24s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    31.29s     Checking existence of `StaticText (First Match)`
    t =    31.35s     Checking existence of `StaticText (First Match)`
üì∏ Screenshot saved: 002_sdk-initialization-network-calls_2026-01-13_15-48-25.png
    t =    31.53s     Added attachment named 'sdk-initialization-network-calls'
    t =    31.54s     Checking existence of `"Close" Button`
    t =    31.61s     Tap "Close" Button
    t =    31.61s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    31.62s         Find the "Close" Button
    t =    31.67s         Check for interrupting elements affecting "Close" Button
    t =    31.75s         Synthesize event
    t =    32.09s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
üì∏ Screenshot saved: 003_sdk-initialized_2026-01-13_15-48-26.png
    t =    32.77s     Added attachment named 'sdk-initialized'
‚úÖ Deep linking test infrastructure initialized
üß™ Testing deep link from Reminders app with Jena's test link
üîó Test URL: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
üéØ Expected unwrapped destination: https://tsetester.com/update/hi
üìù [TEST] Opening universal link from Reminders app: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
    t =    32.78s Open com.apple.reminders
    t =    32.78s     Launch com.apple.reminders
    t =    32.78s         Terminate com.apple.reminders:9934
    t =    35.58s         Setting up automation session
    t =    36.26s         Wait for com.apple.reminders to idle
    t =    40.43s Checking `Expect predicate `state == 4` for object Application 'com.apple.reminders'`
    t =    42.44s Waiting 3.0s for "Continue" Button to exist
    t =    43.45s     Checking `Expect predicate `existsNoRetry == 1` for object "Continue" Button`
    t =    43.45s         Checking existence of `"Continue" Button`
    t =    43.58s         Capturing element debug description
    t =    44.49s     Checking `Expect predicate `existsNoRetry == 1` for object "Continue" Button`
    t =    44.50s         Checking existence of `"Continue" Button`
    t =    44.52s         Capturing element debug description
    t =    45.44s     Checking `Expect predicate `existsNoRetry == 1` for object "Continue" Button`
    t =    45.44s         Checking existence of `"Continue" Button`
    t =    45.46s         Capturing element debug description
    t =    45.46s     Checking existence of `"Continue" Button`
    t =    45.48s Collecting debug information to assist test failure triage
    t =    45.48s     Requesting snapshot of accessibility hierarchy for app with pid 12331
    t =    45.52s Waiting 3.0s for "Not Now" Button to exist
    t =    46.54s     Checking `Expect predicate `existsNoRetry == 1` for object "Not Now" Button`
    t =    46.54s         Checking existence of `"Not Now" Button`
    t =    46.56s         Capturing element debug description
    t =    47.56s     Checking `Expect predicate `existsNoRetry == 1` for object "Not Now" Button`
    t =    47.56s         Checking existence of `"Not Now" Button`
    t =    47.59s         Capturing element debug description
    t =    48.52s     Checking `Expect predicate `existsNoRetry == 1` for object "Not Now" Button`
    t =    48.52s         Checking existence of `"Not Now" Button`
    t =    48.54s         Capturing element debug description
    t =    48.55s     Checking existence of `"Not Now" Button`
    t =    48.56s Collecting debug information to assist test failure triage
    t =    48.56s     Requesting snapshot of accessibility hierarchy for app with pid 12331
üóëÔ∏è [TEST] Cleaning up previous test link from Reminders...
    t =    48.59s Waiting 2.0s for Cell (First Match) to exist
    t =    49.63s     Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    49.63s         Checking existence of `Cell (First Match)`
    t =    49.65s Swipe left Cell (First Match)
    t =    49.65s     Wait for com.apple.reminders to idle
    t =    49.65s     Find the Cell (First Match)
    t =    49.67s     Check for interrupting elements affecting "<x-apple-reminderkit://REMCDReminder/51A1359D-196C-496E-B053-52189AEB074B>" Cell
    t =    49.72s     Synthesize event
    t =    50.72s     Wait for com.apple.reminders to idle
    t =    52.33s Waiting 2.0s for "Delete" Button to exist
    t =    53.36s     Checking `Expect predicate `existsNoRetry == 1` for object "Delete" Button`
    t =    53.36s         Checking existence of `"Delete" Button`
    t =    53.41s Tap "Delete" Button
    t =    53.41s     Wait for com.apple.reminders to idle
    t =    53.41s     Find the "Delete" Button
    t =    53.43s     Check for interrupting elements affecting "Delete" Button
    t =    53.46s     Synthesize event
    t =    53.93s     Wait for com.apple.reminders to idle
üóëÔ∏è [TEST] Deleted previous test reminder
üìù [TEST] Looking for New Reminder button...
    t =    55.33s Waiting 5.0s for "New Reminder" Button to exist
    t =    56.37s     Checking `Expect predicate `existsNoRetry == 1` for object "New Reminder" Button`
    t =    56.37s         Checking existence of `"New Reminder" Button`
üìù [TEST] Found New Reminder button, tapping...
    t =    56.39s Tap "New Reminder" Button
    t =    56.39s     Wait for com.apple.reminders to idle
    t =    56.39s     Find the "New Reminder" Button
    t =    56.41s     Check for interrupting elements affecting "New Reminder" Button
    t =    56.44s     Synthesize event
    t =    56.75s     Wait for com.apple.reminders to idle
üìù [TEST] Typing URL into reminder: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
    t =    60.01s Type 'https://links.tset...' into Application 'com.apple.reminders'
    t =    60.02s     Wait for com.apple.reminders to idle
    t =    60.02s     Find the Application 'com.apple.reminders'
    t =    60.09s     Check for interrupting elements affecting "Reminders" Application
    t =    60.15s     Synthesize event
    t =    60.15s         Get number of matches for: Elements containing elements matching predicate 'hasKeyboardFocus == 1'
    t =    68.09s     Wait for com.apple.reminders to idle
    t =    68.10s Type '
' into Application 'com.apple.reminders'
    t =    68.10s     Wait for com.apple.reminders to idle
    t =    68.10s     Find the Application 'com.apple.reminders'
    t =    68.16s     Check for interrupting elements affecting "Reminders" Application
    t =    68.21s     Synthesize event
    t =    68.21s         Get number of matches for: Elements containing elements matching predicate 'hasKeyboardFocus == 1'
    t =    68.53s     Wait for com.apple.reminders to idle
üìù [TEST] Looking for link to tap...
    t =    70.90s Waiting 5.0s for Link (First Match) to exist
    t =    71.96s     Checking `Expect predicate `existsNoRetry == 1` for object Link (First Match)`
    t =    71.96s         Checking existence of `Link (First Match)`
‚úÖ [TEST] Found link, tapping it...
    t =    72.09s Swipe down Application 'com.apple.reminders'
    t =    72.09s     Wait for com.apple.reminders to idle
    t =    72.09s     Find the Application 'com.apple.reminders'
    t =    72.12s     Check for interrupting elements affecting "Reminders" Application
    t =    72.18s     Synthesize event
    t =    73.14s     Wait for com.apple.reminders to idle
    t =    74.38s Tap Link (First Match)[0.10, 0.50]
    t =    74.38s     Wait for com.apple.reminders to idle
    t =    74.38s     Find the Link (First Match)
    t =    74.42s     Check for interrupting elements affecting "https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D" Link
    t =    74.46s     Synthesize event
    t =    74.46s         Find the "https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D" Link
    t =    74.51s         Find the "https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D" Link
    t =    74.56s         Find the "https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D" Link
    t =    74.95s     Wait for com.apple.reminders to idle
‚úÖ [TEST] Tapped link in Reminders app
    t =    76.08s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    76.19s     Capturing element debug description
    t =    77.05s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    77.06s     Capturing element debug description
    t =    78.01s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    78.10s     Capturing element debug description
    t =    78.98s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    78.98s     Capturing element debug description
    t =    80.02s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    80.02s     Capturing element debug description
    t =    81.01s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    81.01s     Capturing element debug description
    t =    82.01s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    82.01s     Capturing element debug description
    t =    83.07s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    83.07s     Capturing element debug description
    t =    84.03s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    84.04s     Capturing element debug description
    t =    84.98s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    84.98s     Capturing element debug description
‚ö†Ô∏è [TEST] App didn't open from Reminders link, checking Safari banner
    t =    86.03s Checking `Expect predicate `state == 4` for object Application 'com.apple.mobilesafari'`
üåê [TEST] Safari opened, capturing initial state...
üì∏ Screenshot saved: 004_safari-initial-state_2026-01-13_15-49-20.png
    t =    86.31s Added attachment named 'safari-initial-state'
üåê [TEST] Waiting for page to load and banner to appear...
üì∏ Screenshot saved: 005_safari-after-2s-wait_2026-01-13_15-49-22.png
    t =    88.53s Added attachment named 'safari-after-2s-wait'
üì∏ Screenshot saved: 006_safari-after-5s-total_2026-01-13_15-49-25.png
    t =    91.80s Added attachment named 'safari-after-5s-total'
    t =    91.81s Waiting 2.0s for "OPEN" Button to exist
    t =    92.83s     Checking `Expect predicate `existsNoRetry == 1` for object "OPEN" Button`
    t =    92.83s         Checking existence of `"OPEN" Button`
    t =    93.14s         Capturing element debug description
    t =    93.82s     Checking `Expect predicate `existsNoRetry == 1` for object "OPEN" Button`
    t =    93.82s         Checking existence of `"OPEN" Button`
    t =    93.86s         Capturing element debug description
    t =    93.86s     Checking existence of `"OPEN" Button`
    t =    93.90s Collecting debug information to assist test failure triage
    t =    93.91s     Requesting snapshot of accessibility hierarchy for app with pid 10560
‚ö†Ô∏è [TEST] OPEN button not found, debugging Safari state...
üì∏ Screenshot saved: 007_safari-no-open-button_2026-01-13_15-49-28.png
    t =    94.17s Added attachment named 'safari-no-open-button'
ü§ñ [TEST] Skipping detailed Safari debugging in CI mode (using simctl fallback)
‚ö†Ô∏è [TEST] Safari banner didn't work in CI, using simctl fallback
ü§ñ [TEST] CI MODE: Opening universal link via xcrun simctl openurl
üîó [TEST] URL: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
üìÑ [TEST] Created command file: /tmp/push_queue/command_1768319368.354454.txt
üöÄ [TEST] Command: xcrun simctl xcrun simctl openurl booted https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
‚è≥ [TEST] Waiting for test runner to execute command...
‚ÑπÔ∏è  üìã Found command file: /tmp/push_queue/command_1768319368.354454.txt
‚ÑπÔ∏è  üöÄ Executing push command: xcrun simctl openurl booted https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
‚ÑπÔ∏è  ‚úÖ Push notification sent successfully
‚ÑπÔ∏è  üóëÔ∏è Cleaned up command file: /tmp/push_queue/command_1768319368.354454.txt
‚úÖ [TEST] Command executed by test runner
    t =    99.33s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =    99.36s     Capturing element debug description
    t =   100.34s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   100.34s     Capturing element debug description
    t =   101.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   101.27s     Capturing element debug description
    t =   102.30s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   102.30s     Capturing element debug description
    t =   103.33s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   103.33s     Capturing element debug description
    t =   104.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   104.27s     Capturing element debug description
    t =   105.30s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   105.30s     Capturing element debug description
    t =   106.33s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   106.34s     Capturing element debug description
    t =   107.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   107.32s     Capturing element debug description
    t =   108.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   108.27s     Capturing element debug description
    t =   109.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   109.32s     Capturing element debug description
    t =   110.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   110.28s     Capturing element debug description
    t =   111.29s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   111.29s     Capturing element debug description
    t =   112.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   112.32s     Capturing element debug description
    t =   113.36s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   113.36s     Capturing element debug description
    t =   114.30s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   114.30s     Capturing element debug description
    t =   115.33s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   115.33s     Capturing element debug description
    t =   116.33s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   116.34s     Capturing element debug description
    t =   117.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   117.27s     Capturing element debug description
    t =   118.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   118.32s     Capturing element debug description
    t =   119.30s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   119.30s     Capturing element debug description
    t =   120.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   120.32s     Capturing element debug description
    t =   121.36s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   121.36s     Capturing element debug description
    t =   122.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   122.32s     Capturing element debug description
    t =   123.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   123.27s     Capturing element debug description
    t =   124.29s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   124.29s     Capturing element debug description
    t =   125.36s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   125.36s     Capturing element debug description
    t =   126.32s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   126.32s     Capturing element debug description
    t =   127.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   127.28s     Capturing element debug description
    t =   128.27s Checking `Expect predicate `state == 4` for object Target Application 'com.sumeru.IterableSDK-Integration-Tester'`
    t =   128.27s     Capturing element debug description
/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/integration-test-app/IterableSDK-Integration-Tester/Tests/IntegrationTestBase.swift:1303: error: -[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testBDeepLinkFromRemindersApp] : XCTAssertTrue failed - App should open from universal link via simctl
    t =   130.78s Tear Down
üì∏ Screenshot saved: 008_final--[DeepLinkingIntegrationTests testBDeepLinkFromRemindersApp]_2026-01-13_15-50-04.png
    t =   131.15s     Added attachment named 'final--[DeepLinkingIntegrationTests testBDeepLinkFromRemindersApp]'
‚ö†Ô∏è Warning: Error cleaning up test user: httpError(401)
    t =   131.65s     Terminate com.sumeru.IterableSDK-Integration-Tester:12038
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testBDeepLinkFromRemindersApp]' failed (133.434 seconds).
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testCCustomActionHandling]' started.
    t =     0.00s Start Test at 2026-01-13 15:50:07.622
    t =     0.13s Set Up
üß™ Test Mode: COMPREHENSIVE (full validation suite)
‚úÖ Loaded test configuration from test-config.json
üì∏ SCREENSHOTS_DIR not set, trying to find project screenshots directory
üì∏ Current working directory: /
üì∏ Using Documents fallback: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ ‚ö†Ô∏è  For CI/proper usage, set SCREENSHOTS_DIR environment variable
üì∏ Screenshot capture initialized
üì∏ Screenshots will be saved to: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ Directory exists: true
‚úÖ UI Interruption Monitors configured for permission dialogs
    t =     0.14s     Open com.sumeru.IterableSDK-Integration-Tester
    t =     0.14s         Launch com.sumeru.IterableSDK-Integration-Tester
    t =     3.09s             Setting up automation session
    t =     6.18s             Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =     9.44s     Checking `Expect predicate `exists == 1` for object "app-ready-indicator" StaticText`
    t =     9.44s         Checking existence of `"app-ready-indicator" StaticText`
    t =     9.53s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    10.55s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    10.55s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    10.60s     Find the "sdk-ready-indicator" StaticText
    t =    10.64s     Waiting 30.0s for "user-email-textfield" TextField to exist
    t =    11.69s         Checking `Expect predicate `existsNoRetry == 1` for object "user-email-textfield" TextField`
    t =    11.69s             Checking existence of `"user-email-textfield" TextField`
    t =    11.72s     Find the "user-email-textfield" TextField
    t =    11.78s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    12.81s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    12.82s             Checking existence of `"sdk-email-value" StaticText`
    t =    12.86s     Find the "sdk-email-value" StaticText
üì∏ Screenshot saved: 001_sdk-before-initialization_2026-01-13_15-50-20.png
    t =    13.03s     Added attachment named 'sdk-before-initialization'
    t =    13.03s     Waiting 30.0s for "initialize-sdk-button" Button to exist
    t =    14.06s         Checking `Expect predicate `existsNoRetry == 1` for object "initialize-sdk-button" Button`
    t =    14.06s             Checking existence of `"initialize-sdk-button" Button`
    t =    14.14s     Tap "initialize-sdk-button" Button
    t =    14.14s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    14.15s         Find the "initialize-sdk-button" Button
    t =    14.38s         Check for interrupting elements affecting "initialize-sdk-button" Button
    t =    14.47s         Synthesize event
    t =    14.88s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    15.35s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    16.35s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    16.35s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    17.48s     Checking `Expect predicate `label == "‚úì"` for object "sdk-ready-indicator" StaticText`
    t =    17.48s         Find the "sdk-ready-indicator" StaticText
    t =    17.53s     Waiting 30.0s for "register-email-button" Button to exist
    t =    18.53s         Checking `Expect predicate `existsNoRetry == 1` for object "register-email-button" Button`
    t =    18.53s             Checking existence of `"register-email-button" Button`
    t =    18.56s     Tap "register-email-button" Button
    t =    18.56s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    18.56s         Find the "register-email-button" Button
    t =    18.59s         Check for interrupting elements affecting "register-email-button" Button
    t =    18.66s         Synthesize event
    t =    18.98s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    20.27s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    21.30s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    21.30s             Checking existence of `"sdk-email-value" StaticText`
    t =    21.35s     Find the "sdk-email-value" StaticText
    t =    21.37s     Waiting 30.0s for "network-monitor-button" Button to exist
    t =    22.39s         Checking `Expect predicate `existsNoRetry == 1` for object "network-monitor-button" Button`
    t =    22.39s             Checking existence of `"network-monitor-button" Button`
    t =    23.46s     Checking `Expect predicate `isHittable == 1` for object "network-monitor-button" Button`
    t =    23.46s         Find the "network-monitor-button" Button
    t =    23.52s     Tap "network-monitor-button" Button
    t =    23.52s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    23.53s         Find the "network-monitor-button" Button
    t =    23.58s         Check for interrupting elements affecting "network-monitor-button" Button
    t =    23.63s         Synthesize event
    t =    24.19s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    24.66s     Waiting 3.0s for "Network Monitor" NavigationBar to exist
    t =    25.68s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    25.68s             Checking existence of `"Network Monitor" NavigationBar`
    t =    25.89s     Waiting 30.0s for "Network Monitor" NavigationBar to exist
    t =    26.93s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    26.93s             Checking existence of `"Network Monitor" NavigationBar`
    t =    27.00s     Waiting 5.0s for Cell (First Match) to exist
    t =    28.01s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    28.01s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getRemoteConfiguration cell:
    t =    28.12s     Get all elements bound by index for: Descendants matching type StaticText
    t =    28.26s     Checking existence of `StaticText (Element at index 0)`
    t =    28.43s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    28.49s     Checking existence of `StaticText (Element at index 1)`
    t =    28.59s     Find the StaticText (Element at index 1)
   - Label: '/api/mobile/getRemoteConfiguration'
    t =    28.75s     Checking existence of `StaticText (Element at index 2)`
    t =    28.89s     Find the StaticText (Element at index 2)
   - Label: '3:50:22‚ÄØPM'
    t =    28.98s     Checking existence of `StaticText (Element at index 3)`
    t =    29.15s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    29.28s     Checking existence of `StaticText (First Match)`
    t =    29.44s     Checking existence of `StaticText (First Match)`
    t =    29.53s     Waiting 5.0s for Cell (First Match) to exist
    t =    30.54s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    30.54s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getMessages cell:
    t =    30.63s     Get all elements bound by index for: Descendants matching type StaticText
    t =    30.70s     Checking existence of `StaticText (Element at index 0)`
    t =    30.79s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    30.88s     Checking existence of `StaticText (Element at index 1)`
    t =    30.96s     Find the StaticText (Element at index 1)
   - Label: '/api/inApp/getMessages'
    t =    31.01s     Checking existence of `StaticText (Element at index 2)`
    t =    31.12s     Find the StaticText (Element at index 2)
   - Label: '3:50:23‚ÄØPM'
    t =    31.16s     Checking existence of `StaticText (Element at index 3)`
    t =    31.22s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    31.32s     Checking existence of `StaticText (First Match)`
    t =    31.40s     Checking existence of `StaticText (First Match)`
üì∏ Screenshot saved: 002_sdk-initialization-network-calls_2026-01-13_15-50-39.png
    t =    31.58s     Added attachment named 'sdk-initialization-network-calls'
    t =    31.58s     Checking existence of `"Close" Button`
    t =    31.62s     Tap "Close" Button
    t =    31.62s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    31.62s         Find the "Close" Button
    t =    31.65s         Check for interrupting elements affecting "Close" Button
    t =    31.69s         Synthesize event
    t =    32.04s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
üì∏ Screenshot saved: 003_sdk-initialized_2026-01-13_15-50-40.png
    t =    32.72s     Added attachment named 'sdk-initialized'
‚úÖ Deep linking test infrastructure initialized
üß™ Testing custom action delegate handles showtestsuccess action
üéØ This validates IterableCustomActionDelegate is invoked for custom action types
    t =    32.72s Waiting 30.0s for "in-app-message-test-row" Other to exist
    t =    33.75s     Checking `Expect predicate `existsNoRetry == 1` for object "in-app-message-test-row" Other`
    t =    33.75s         Checking existence of `"in-app-message-test-row" Other`
    t =    33.81s Tap "in-app-message-test-row" Other
    t =    33.82s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    33.83s     Find the "in-app-message-test-row" Other
    t =    33.88s     Check for interrupting elements affecting "in-app-message-test-row" Other
    t =    33.93s     Synthesize event
    t =    34.24s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    35.03s Waiting 30.0s for "trigger-testview-in-app-button" Button to exist
    t =    36.03s     Checking `Expect predicate `existsNoRetry == 1` for object "trigger-testview-in-app-button" Button`
    t =    36.03s         Checking existence of `"trigger-testview-in-app-button" Button`
    t =    36.16s Tap "trigger-testview-in-app-button" Button
    t =    36.16s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    36.16s     Find the "trigger-testview-in-app-button" Button
    t =    36.24s     Check for interrupting elements affecting "trigger-testview-in-app-button" Button
    t =    36.32s     Synthesize event
    t =    36.63s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    36.64s Checking existence of `"Success" Alert`
    t =    36.68s Waiting 30.0s for "check-messages-button" Button to exist
    t =    37.73s     Checking `Expect predicate `existsNoRetry == 1` for object "check-messages-button" Button`
    t =    37.73s         Checking existence of `"check-messages-button" Button`
    t =    37.78s Tap "check-messages-button" Button
    t =    37.78s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    37.78s     Find the "check-messages-button" Button
    t =    37.84s     Check for interrupting elements affecting "check-messages-button" Button
    t =    37.99s     Synthesize event
    t =    38.33s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    38.34s Waiting 30.0s for WebView (Element at index 0) to exist
    t =    39.36s     Checking `Expect predicate `existsNoRetry == 1` for object WebView (Element at index 0)`
    t =    39.36s         Checking existence of `WebView (Element at index 0)`
    t =    40.54s         Capturing element debug description
    t =    41.41s     Checking `Expect predicate `existsNoRetry == 1` for object WebView (Element at index 0)`
    t =    41.41s         Checking existence of `WebView (Element at index 0)`
üîç Polling for webView link 'Show Test View' (timeout: 30.0s)
    t =    41.79s Checking existence of `"Show Test View" Link`
    t =    41.93s Checking existence of `"Show Test View" Link`
    t =    42.02s Checking existence of `"Show Test View" Link`
    t =    42.19s Checking existence of `"Show Test View" Link`
    t =    42.27s Checking existence of `"Show Test View" Link`
    t =    42.36s Checking existence of `"Show Test View" Link`
    t =    42.50s Checking existence of `"Show Test View" Link`
    t =    42.69s Checking existence of `"Show Test View" Link`
    t =    42.89s Checking existence of `"Show Test View" Link`
    t =    42.96s Checking existence of `"Show Test View" Link`
    t =    43.19s Checking existence of `"Show Test View" Link`
    t =    43.25s Checking existence of `"Show Test View" Link`
    t =    43.87s Checking existence of `"Show Test View" Link`
‚úÖ Link 'Show Test View' found after 2.3s, validating stability...
    t =    45.12s Checking existence of `"Show Test View" Link`
‚úÖ Link 'Show Test View' confirmed stable and accessible
    t =    45.22s Waiting 30.0s for "Show Test View" Link to exist
    t =    46.23s     Checking `Expect predicate `existsNoRetry == 1` for object "Show Test View" Link`
    t =    46.23s         Checking existence of `"Show Test View" Link`
    t =    46.27s Tap "Show Test View" Link
    t =    46.27s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    46.28s     Find the "Show Test View" Link
    t =    46.33s     Check for interrupting elements affecting "Show Test View" Link
    t =    46.59s     Synthesize event
    t =    46.93s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    50.31s Waiting 45.0s for "Deep link to Test View" Alert to exist
    t =    51.33s     Checking `Expect predicate `existsNoRetry == 1` for object "Deep link to Test View" Alert`
    t =    51.33s         Checking existence of `"Deep link to Test View" Alert`
‚úÖ Alert 'Deep link to Test View' appeared
    t =    51.46s Find the StaticText (Element at index 1)
‚úÖ Alert message matches: 'Deep link handled with Success!'
    t =    51.51s Checking existence of `"Deep link to Test View" Alert`
    t =    51.55s Checking existence of `"OK" Button`
    t =    51.62s Tap "OK" Button
    t =    51.62s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    51.63s     Find the "OK" Button
    t =    51.69s     Check for interrupting elements affecting "OK" Button
    t =    51.81s     Synthesize event
    t =    52.20s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
‚úÖ Dismissed alert 'Deep link to Test View'
    t =    52.38s Checking existence of `WebView (Element at index 0)`
    t =    52.99s Checking existence of `"clear-messages-button" Button`
    t =    53.06s Tap "clear-messages-button" Button
    t =    53.06s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    53.07s     Find the "clear-messages-button" Button
    t =    53.13s     Check for interrupting elements affecting "clear-messages-button" Button
    t =    53.25s     Found 1 interrupting element:
    t =    53.25s         Find the "Success" Alert
    t =    53.31s "Success" Alert from Target Application 'com.sumeru.IterableSDK-Integration-Tester'
    t =    53.31s     Invoking UI interruption monitors for "Success" Alert from Target Application 'com.sumeru.IterableSDK-Integration-Tester'
    t =    53.31s Invoking General System Permission
‚öôÔ∏è UI Interruption Monitor: Handling general system permission dialog
    t =    53.31s             Checking existence of `"Allow" Button`
    t =    53.36s             Checking existence of `"OK" Button`
üì± Tapping 'OK' button for system permission
    t =    53.42s             Tap "OK" Button
    t =    53.42s                 Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    53.43s                 Find the "OK" Button
    t =    53.49s                 Check for interrupting elements affecting "OK" Button
    t =    53.55s                 Synthesize event
    t =    53.87s                 Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    54.14s         Verifying handling...
    t =    54.42s Confirmed successful handling of interrupting element
    t =    54.43s     Synthesize event
    t =    54.75s     Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    54.75s Checking existence of `"Success" Alert`
‚úÖ Custom action handling test completed successfully
‚úÖ Validated: IterableCustomActionDelegate invoked and handled custom action
    t =    54.81s Tear Down
üì∏ Screenshot saved: 004_final--[DeepLinkingIntegrationTests testCCustomActionHandling]_2026-01-13_15-51-02.png
    t =    55.11s     Added attachment named 'final--[DeepLinkingIntegrationTests testCCustomActionHandling]'
‚ö†Ô∏è Warning: Error cleaning up test user: httpError(401)
    t =    55.94s     Terminate com.sumeru.IterableSDK-Integration-Tester:14080
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testCCustomActionHandling]' passed (57.588 seconds).
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testDSingleRedirectPolicy]' started.
    t =     0.00s Start Test at 2026-01-13 15:51:05.215
    t =     0.11s Set Up
üß™ Test Mode: COMPREHENSIVE (full validation suite)
‚úÖ Loaded test configuration from test-config.json
üì∏ SCREENSHOTS_DIR not set, trying to find project screenshots directory
üì∏ Current working directory: /
üì∏ Using Documents fallback: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ ‚ö†Ô∏è  For CI/proper usage, set SCREENSHOTS_DIR environment variable
üì∏ Screenshot capture initialized
üì∏ Screenshots will be saved to: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
üì∏ Directory exists: true
‚úÖ UI Interruption Monitors configured for permission dialogs
    t =     0.12s     Open com.sumeru.IterableSDK-Integration-Tester
    t =     0.12s         Launch com.sumeru.IterableSDK-Integration-Tester
    t =    26.46s             Setting up automation session
    t =    28.12s             Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    30.89s     Checking `Expect predicate `exists == 1` for object "app-ready-indicator" StaticText`
    t =    30.89s         Checking existence of `"app-ready-indicator" StaticText`
    t =    31.02s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    32.07s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    32.07s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    32.12s     Find the "sdk-ready-indicator" StaticText
    t =    32.16s     Waiting 30.0s for "user-email-textfield" TextField to exist
    t =    33.20s         Checking `Expect predicate `existsNoRetry == 1` for object "user-email-textfield" TextField`
    t =    33.21s             Checking existence of `"user-email-textfield" TextField`
    t =    33.27s     Find the "user-email-textfield" TextField
    t =    33.30s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    34.34s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    34.34s             Checking existence of `"sdk-email-value" StaticText`
    t =    34.36s     Find the "sdk-email-value" StaticText
üì∏ Screenshot saved: 001_sdk-before-initialization_2026-01-13_15-51-39.png
    t =    34.50s     Added attachment named 'sdk-before-initialization'
    t =    34.50s     Waiting 30.0s for "initialize-sdk-button" Button to exist
    t =    35.52s         Checking `Expect predicate `existsNoRetry == 1` for object "initialize-sdk-button" Button`
    t =    35.52s             Checking existence of `"initialize-sdk-button" Button`
    t =    35.57s     Tap "initialize-sdk-button" Button
    t =    35.57s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    35.57s         Find the "initialize-sdk-button" Button
    t =    35.61s         Check for interrupting elements affecting "initialize-sdk-button" Button
    t =    35.67s         Synthesize event
    t =    36.03s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    36.56s     Waiting 30.0s for "sdk-ready-indicator" StaticText to exist
    t =    37.56s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-ready-indicator" StaticText`
    t =    37.56s             Checking existence of `"sdk-ready-indicator" StaticText`
    t =    38.62s     Checking `Expect predicate `label == "‚úì"` for object "sdk-ready-indicator" StaticText`
    t =    38.62s         Find the "sdk-ready-indicator" StaticText
    t =    38.69s     Waiting 30.0s for "register-email-button" Button to exist
    t =    39.71s         Checking `Expect predicate `existsNoRetry == 1` for object "register-email-button" Button`
    t =    39.71s             Checking existence of `"register-email-button" Button`
    t =    39.74s     Tap "register-email-button" Button
    t =    39.74s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    39.74s         Find the "register-email-button" Button
    t =    39.79s         Check for interrupting elements affecting "register-email-button" Button
    t =    39.82s         Synthesize event
    t =    40.16s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    41.41s     Waiting 30.0s for "sdk-email-value" StaticText to exist
    t =    42.43s         Checking `Expect predicate `existsNoRetry == 1` for object "sdk-email-value" StaticText`
    t =    42.43s             Checking existence of `"sdk-email-value" StaticText`
    t =    42.48s     Find the "sdk-email-value" StaticText
    t =    42.51s     Waiting 30.0s for "network-monitor-button" Button to exist
    t =    43.54s         Checking `Expect predicate `existsNoRetry == 1` for object "network-monitor-button" Button`
    t =    43.54s             Checking existence of `"network-monitor-button" Button`
    t =    44.62s     Checking `Expect predicate `isHittable == 1` for object "network-monitor-button" Button`
    t =    44.62s         Find the "network-monitor-button" Button
    t =    44.72s     Tap "network-monitor-button" Button
    t =    44.72s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    44.72s         Find the "network-monitor-button" Button
    t =    44.79s         Check for interrupting elements affecting "network-monitor-button" Button
    t =    44.82s         Synthesize event
    t =    45.14s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    45.27s     Waiting 3.0s for "Network Monitor" NavigationBar to exist
    t =    46.36s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    46.36s             Checking existence of `"Network Monitor" NavigationBar`
    t =    46.45s     Waiting 30.0s for "Network Monitor" NavigationBar to exist
    t =    47.47s         Checking `Expect predicate `existsNoRetry == 1` for object "Network Monitor" NavigationBar`
    t =    47.47s             Checking existence of `"Network Monitor" NavigationBar`
    t =    47.50s     Waiting 5.0s for Cell (First Match) to exist
    t =    48.54s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    48.54s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getRemoteConfiguration cell:
    t =    48.65s     Get all elements bound by index for: Descendants matching type StaticText
    t =    48.74s     Checking existence of `StaticText (Element at index 0)`
    t =    48.85s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    48.92s     Checking existence of `StaticText (Element at index 1)`
    t =    48.99s     Find the StaticText (Element at index 1)
   - Label: '/api/mobile/getRemoteConfiguration'
    t =    49.11s     Checking existence of `StaticText (Element at index 2)`
    t =    49.25s     Find the StaticText (Element at index 2)
   - Label: '3:51:41‚ÄØPM'
    t =    49.33s     Checking existence of `StaticText (Element at index 3)`
    t =    49.40s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    49.50s     Checking existence of `StaticText (First Match)`
    t =    49.63s     Checking existence of `StaticText (First Match)`
    t =    49.88s     Waiting 5.0s for Cell (First Match) to exist
    t =    50.89s         Checking `Expect predicate `existsNoRetry == 1` for object Cell (First Match)`
    t =    50.89s             Checking existence of `Cell (First Match)`
üîç Debug: Static texts in getMessages cell:
    t =    50.97s     Get all elements bound by index for: Descendants matching type StaticText
    t =    51.08s     Checking existence of `StaticText (Element at index 0)`
    t =    51.21s     Find the StaticText (Element at index 0)
   - Label: 'GET'
    t =    51.30s     Checking existence of `StaticText (Element at index 1)`
    t =    51.38s     Find the StaticText (Element at index 1)
   - Label: '/api/inApp/getMessages'
    t =    51.45s     Checking existence of `StaticText (Element at index 2)`
    t =    51.52s     Find the StaticText (Element at index 2)
   - Label: '3:51:41‚ÄØPM'
    t =    51.59s     Checking existence of `StaticText (Element at index 3)`
    t =    51.68s     Find the StaticText (Element at index 3)
   - Label: '200'
    t =    51.77s     Checking existence of `StaticText (First Match)`
    t =    51.87s     Checking existence of `StaticText (First Match)`
üì∏ Screenshot saved: 002_sdk-initialization-network-calls_2026-01-13_15-51-57.png
    t =    52.12s     Added attachment named 'sdk-initialization-network-calls'
    t =    52.12s     Checking existence of `"Close" Button`
    t =    52.19s     Tap "Close" Button
    t =    52.19s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    52.20s         Find the "Close" Button
    t =    52.26s         Check for interrupting elements affecting "Close" Button
    t =    52.35s         Synthesize event
    t =    52.84s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
üì∏ Screenshot saved: 003_sdk-initialized_2026-01-13_15-51-58.png
    t =    53.43s     Added attachment named 'sdk-initialized'
‚úÖ Deep linking test infrastructure initialized
üß™ Testing SDK follows exactly one redirect (GreenFi bug fix validation)
üéØ This test validates that SDK stops at first redirect, not following multiple hops
üìö HOW IT WORKS: SDK's RedirectNetworkSession.willPerformHTTPRedirection returns nil
   to completionHandler, which tells URLSession to STOP following redirects
   See: swift-sdk/Internal/Network/NetworkSession.swift:136
üîó Test URL: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
‚úÖ Expected: SDK stops at first redirect (tsetester.com/update/hi)
‚ùå Should NOT follow: Any subsequent redirects beyond the first one
üìù [TEST] Opening universal link from Reminders app: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
    t =    53.45s Open com.apple.reminders
    t =    53.45s     Launch com.apple.reminders
    t =    53.45s         Terminate com.apple.reminders:12331
/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/integration-test-app/IterableSDK-Integration-Tester/Tests/IntegrationTestBase.swift:1121: error: -[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testDSingleRedirectPolicy] : Failed to launch com.apple.reminders: Timed out attempting to launch app.
    t =    84.63s Tear Down
üì∏ Screenshot saved: 004_final--[DeepLinkingIntegrationTests testDSingleRedirectPolicy]_2026-01-13_15-52-29.png
    t =    84.81s     Added attachment named 'final--[DeepLinkingIntegrationTests testDSingleRedirectPolicy]'
‚ö†Ô∏è Warning: Error cleaning up test user: httpError(401)
    t =    85.15s             Terminate com.sumeru.IterableSDK-Integration-Tester:15390
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testDSingleRedirectPolicy]' failed (86.438 seconds).
Test Suite 'DeepLinkingIntegrationTests' failed at 2026-01-13 15:52:31.649.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.478) seconds
Test Suite 'IterableSDK-Integration-TesterUITests.xctest' failed at 2026-01-13 15:52:31.650.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.481) seconds
Test Suite 'Selected tests' failed at 2026-01-13 15:52:31.651.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.482) seconds
2026-01-13 15:53:31.207 xcodebuild[7720:35547] [MT] IDETestOperationsObserverDebug: 512.878 elapsed -- Testing started completed.
2026-01-13 15:53:31.207 xcodebuild[7720:35547] [MT] IDETestOperationsObserverDebug: 0.000 sec, +0.000 sec -- start
2026-01-13 15:53:31.207 xcodebuild[7720:35547] [MT] IDETestOperationsObserverDebug: 512.879 sec, +512.878 sec -- end

Test session results, code coverage, and logs:
	/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/reports/deeplinkingintegrationtests-20260113-154246.xcresult

Failing tests:
	DeepLinkingIntegrationTests.testBDeepLinkFromRemindersApp()
	DeepLinkingIntegrationTests.testDSingleRedirectPolicy()

** TEST EXECUTE FAILED **

Testing started
‚ùå Test failed with exit code: 65
‚ÑπÔ∏è  Attempting to extract failure details...
‚ÑπÔ∏è  Recent test output:
    t =    52.12s     Added attachment named 'sdk-initialization-network-calls'
    t =    52.12s     Checking existence of `"Close" Button`
    t =    52.19s     Tap "Close" Button
    t =    52.19s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
    t =    52.20s         Find the "Close" Button
    t =    52.26s         Check for interrupting elements affecting "Close" Button
    t =    52.35s         Synthesize event
    t =    52.84s         Wait for com.sumeru.IterableSDK-Integration-Tester to idle
üì∏ Screenshot saved: 003_sdk-initialized_2026-01-13_15-51-58.png
    t =    53.43s     Added attachment named 'sdk-initialized'
‚úÖ Deep linking test infrastructure initialized
üß™ Testing SDK follows exactly one redirect (GreenFi bug fix validation)
üéØ This test validates that SDK stops at first redirect, not following multiple hops
üìö HOW IT WORKS: SDK's RedirectNetworkSession.willPerformHTTPRedirection returns nil
   to completionHandler, which tells URLSession to STOP following redirects
   See: swift-sdk/Internal/Network/NetworkSession.swift:136
üîó Test URL: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
‚úÖ Expected: SDK stops at first redirect (tsetester.com/update/hi)
‚ùå Should NOT follow: Any subsequent redirects beyond the first one
üìù [TEST] Opening universal link from Reminders app: https://links.tsetester.com/a/click?_t=5cce074b113d48fa9ef346e4333ed8e8&_m=74aKPNrAjTpuZM4vZTDueu64xMdbHDz5Tn&_e=l6cj19GbssUn6h5qtXjRcC5os6azNW1cqdk9lsvmxxRl4ZTAW8mIB4IHJA97wE1i5f0eRDtm-KpgKI7-tM-Cly6umZo4P8HU8krftMYvL3T2sCpm3uFDBF2iJ5vQ-G6sqNMmae4_8jkE1DU9aKRhraZ1zzUZ3j-dFbQJrxdLt4tb0C7jnXSARVFf27FKFhBKnYSO23taBmf_4G5dTTXKmC_1CGnT9bu1nAwP-WMyYShoQhmjoGO9ppDCrVStSYPsimwub0h5XnC11g4u5yML_WZssgC7LSUOX7qCNOIDr9dLhrx2Rc2TY12k0maESyanjNgNZ4Lr8LMClCMJ3d9TMg%3D%3D
    t =    53.45s Open com.apple.reminders
    t =    53.45s     Launch com.apple.reminders
    t =    53.45s         Terminate com.apple.reminders:12331
/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/integration-test-app/IterableSDK-Integration-Tester/Tests/IntegrationTestBase.swift:1121: error: -[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testDSingleRedirectPolicy] : Failed to launch com.apple.reminders: Timed out attempting to launch app.
    t =    84.63s Tear Down
üì∏ Screenshot saved: 004_final--[DeepLinkingIntegrationTests testDSingleRedirectPolicy]_2026-01-13_15-52-29.png
    t =    84.81s     Added attachment named 'final--[DeepLinkingIntegrationTests testDSingleRedirectPolicy]'
‚ö†Ô∏è Warning: Error cleaning up test user: httpError(401)
    t =    85.15s             Terminate com.sumeru.IterableSDK-Integration-Tester:15390
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testDSingleRedirectPolicy]' failed (86.438 seconds).
Test Suite 'DeepLinkingIntegrationTests' failed at 2026-01-13 15:52:31.649.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.478) seconds
Test Suite 'IterableSDK-Integration-TesterUITests.xctest' failed at 2026-01-13 15:52:31.650.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.481) seconds
Test Suite 'Selected tests' failed at 2026-01-13 15:52:31.651.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.482) seconds
2026-01-13 15:53:31.207 xcodebuild[7720:35547] [MT] IDETestOperationsObserverDebug: 512.878 elapsed -- Testing started completed.
2026-01-13 15:53:31.207 xcodebuild[7720:35547] [MT] IDETestOperationsObserverDebug: 0.000 sec, +0.000 sec -- start
2026-01-13 15:53:31.207 xcodebuild[7720:35547] [MT] IDETestOperationsObserverDebug: 512.879 sec, +512.878 sec -- end

Test session results, code coverage, and logs:
	/Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/reports/deeplinkingintegrationtests-20260113-154246.xcresult

Failing tests:
	DeepLinkingIntegrationTests.testBDeepLinkFromRemindersApp()
	DeepLinkingIntegrationTests.testDSingleRedirectPolicy()

** TEST EXECUTE FAILED **

Testing started

‚ÑπÔ∏è  Searching for error details...
‚ö†Ô∏è Warning: Error cleaning up test user: httpError(401)
Test Case '-[IterableSDK_Integration_TesterUITests.DeepLinkingIntegrationTests testDSingleRedirectPolicy]' failed (86.438 seconds).
Test Suite 'DeepLinkingIntegrationTests' failed at 2026-01-13 15:52:31.649.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.478) seconds
Test Suite 'IterableSDK-Integration-TesterUITests.xctest' failed at 2026-01-13 15:52:31.650.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.481) seconds
Test Suite 'Selected tests' failed at 2026-01-13 15:52:31.651.
	 Executed 4 tests, with 2 failures (0 unexpected) in 411.473 (411.482) seconds
Failing tests:
** TEST EXECUTE FAILED **
‚ÑπÔ∏è  Extracting failure details from xcresult...
‚ö†Ô∏è  DeepLinkingIntegrationTests tests failed with exit code: 65
‚ÑπÔ∏è  üõë Stopping push monitor (PID: 7713)
‚ÑπÔ∏è  ‚úÖ Push monitoring cleanup completed
‚úÖ Deep linking tests completed
‚ÑπÔ∏è  Report: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../reports/deep-linking-test-20260113-154245.json
============================================
Copying Screenshots from Simulator
============================================
‚ÑπÔ∏è  Using test log file: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../reports/deeplinkingintegrationtests-20260113-154246.json.log
‚ÑπÔ∏è  Found simulator screenshots directory from logs: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
‚ÑπÔ∏è  Found simulator screenshots at: /Users/runner/Library/Developer/CoreSimulator/Devices/E38B99B2-93A2-4BE1-8B4A-468FF4614D58/data/Containers/Data/Application/CE0724A2-2CB1-448B-AA36-0EE41ADB27D6/Documents/IterableSDK-Screenshots
‚ÑπÔ∏è  Copying 20 screenshots to project directory...
‚úÖ Successfully copied 20 screenshots to: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots
‚ÑπÔ∏è  Cleared simulator screenshots after copying
============================================
Cleaning Up Test Environment
============================================
‚ÑπÔ∏è  Resetting simulator state...
‚ÑπÔ∏è  Simulator cleanup skipped
‚úÖ Cleanup completed
============================================
Test Execution Complete! üéâ
============================================
‚ö†Ô∏è  Local integration tests completed with errors (exit code: 65)
‚ÑπÔ∏è  Reports available in: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../reports
‚ÑπÔ∏è  Screenshots saved in: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../screenshots
‚ÑπÔ∏è  Logs available in: /Users/runner/work/iterable-swift-sdk/iterable-swift-sdk/tests/business-critical-integration/scripts/../logs
‚ÑπÔ∏è  üîÑ Reset config.json ciMode to false
Error: Process completed with exit code 65.